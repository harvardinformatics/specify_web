/* Source and licensing information for the line(s) below can be found at http://emr.fas.harvard.edu/profiles/openscholar/libraries/responsiveslides/responsiveslides.js. */
(function($,window,i){$.fn.responsiveSlides=function(options){var settings=$.extend({auto:true,speed:500,timeout:4e3,pager:false,nav:false,random:false,pause:false,pauseControls:true,prevText:"Previous",nextText:"Next",maxwidth:"",navContainer:"",manualControls:"",namespace:"rslides",before:function(){},after:function(){}},options);return this.each(function(){i++;var $this=$(this),vendor,selectTab,startCycle,restartCycle,rotate,$tabs,index=0,$slide=$this.children(),length=$slide.size(),fadeTime=parseFloat(settings.speed),waitTime=parseFloat(settings.timeout),maxw=parseFloat(settings.maxwidth),namespace=settings.namespace,namespaceIdx=namespace+i,navClass=namespace+"_nav "+namespaceIdx+"_nav",activeClass=namespace+"_here",visibleClass=namespaceIdx+"_on",slideClassPrefix=namespaceIdx+"_s",$pager=$("<ul class='slidecontrol "+namespace+"_tabs "+namespaceIdx+"_tabs' />"),visible={"float":"left",position:"relative",opacity:1,zIndex:2},hidden={"float":"none",position:"absolute",opacity:0,zIndex:1},supportsTransitions=(function(){var docBody=document.body||document.documentElement,styles=docBody.style,prop="transition";if(typeof styles[prop]==="string")return true;vendor=["Moz","Webkit","Khtml","O","ms"];prop=prop.charAt(0).toUpperCase()+prop.substr(1);var i;for(i=0;i<vendor.length;i++)if(typeof styles[vendor[i]+prop]==="string")return true;return false})(),slideTo=function(idx){settings.before();if(supportsTransitions){$slide.removeClass(visibleClass).css(hidden).eq(idx).addClass(visibleClass).css(visible);index=idx;setTimeout(function(){settings.after()},fadeTime)}else $slide.stop().fadeOut(fadeTime,function(){$(this).removeClass(visibleClass).css(hidden).css("opacity",1)}).eq(idx).fadeIn(fadeTime,function(){$(this).addClass(visibleClass).css(visible);settings.after();index=idx})};if(settings.random){$slide.sort(function(){return(Math.round(Math.random())-0.5)});$this.empty().append($slide)};$slide.each(function(i){this.id=slideClassPrefix+i});$this.addClass(namespace+" "+namespaceIdx);if(options&&options.maxwidth)$this.css("max-width",maxw);$slide.hide().css(hidden).eq(0).addClass(visibleClass).css(visible).show();if(supportsTransitions)$slide.show().css({"-webkit-transition":"opacity "+fadeTime+"ms ease-in-out","-moz-transition":"opacity "+fadeTime+"ms ease-in-out","-o-transition":"opacity "+fadeTime+"ms ease-in-out",transition:"opacity "+fadeTime+"ms ease-in-out"});if($slide.size()>1){if(waitTime<fadeTime+100)return;if(settings.pager&&!settings.manualControls){var tabMarkup=[];$slide.each(function(i){var n=i+1;tabMarkup+="<li><a href='#' class='"+slideClassPrefix+n+"'>&bull;</a></li>"});$pager.append(tabMarkup);if(options.navContainer){$(settings.navContainer).append($pager)}else $this.after($pager)};if(settings.manualControls){$pager=$(settings.manualControls);$pager.addClass(namespace+"_tabs "+namespaceIdx+"_tabs")};if(settings.pager||settings.manualControls)$pager.find('li').each(function(i){$(this).addClass(slideClassPrefix+(i+1))});if(settings.pager||settings.manualControls){$tabs=$pager.find('a');selectTab=function(idx){$tabs.closest("li").removeClass(activeClass).eq(idx).addClass(activeClass)}};if(settings.auto){startCycle=function(){rotate=setInterval(function(){$slide.stop(true,true);var idx=index+1<length?index+1:0;if(settings.pager||settings.manualControls)selectTab(idx);slideTo(idx)},waitTime)};startCycle()};restartCycle=function(){if(settings.auto){clearInterval(rotate);startCycle()}};if(settings.pause)$this.hover(function(){clearInterval(rotate)},function(){restartCycle()});if(settings.pager||settings.manualControls){$tabs.bind("click",function(e){e.preventDefault();if(!settings.pauseControls)restartCycle();var idx=$tabs.index(this);if(index===idx||$("."+visibleClass).queue('fx').length)return;selectTab(idx);slideTo(idx)}).eq(0).closest("li").addClass(activeClass);if(settings.pauseControls)$tabs.hover(function(){clearInterval(rotate)},function(){restartCycle()})};if(settings.nav){var navMarkup="<li><a href='#' title='Previous slide' class='"+navClass+" prev'><span aria-hidden='true' class='icon-arrow-left7'></span></a></li>",navMarkup2="<li><a href='#' title='Next slide' class='"+navClass+" next'><span aria-hidden='true' class='icon-arrow-right8'></span></a></li>";if(options.navContainer){$(settings.navContainer).append(navMarkup)}else{$('.slidecontrol').prepend(navMarkup);$('.slidecontrol').append(navMarkup2)};var $trigger=$("."+namespaceIdx+"_nav"),$prev=$trigger.filter(".prev");$trigger.bind("click",function(e){e.preventDefault();var $visibleClass=$("."+visibleClass);if($visibleClass.queue('fx').length)return;var idx=$slide.index($visibleClass),prevIdx=idx-1,nextIdx=idx+1<length?index+1:0;slideTo($(this)[0]===$prev[0]?prevIdx:nextIdx);if(settings.pager||settings.manualControls)selectTab($(this)[0]===$prev[0]?prevIdx:nextIdx);if(!settings.pauseControls)restartCycle()});if(settings.pauseControls)$trigger.hover(function(){clearInterval(rotate)},function(){restartCycle()})}};if(typeof document.body.style.maxWidth==="undefined"&&options.maxwidth){var widthSupport=function(){$this.css("width","100%");if($this.width()>maxw)$this.css("width",maxw)};widthSupport();$(window).bind("resize",function(){widthSupport()})}})}})(jQuery,this,0);;
/* Source and licensing information for the above line(s) can be found at http://emr.fas.harvard.edu/profiles/openscholar/libraries/responsiveslides/responsiveslides.js. */
/* Source and licensing information for the line(s) below can be found at http://emr.fas.harvard.edu/profiles/openscholar/modules/os/theme/os_ajaxterminate.js. */
Drupal.behaviors.os_ajaxFix={attach:function(ctx){var $=jQuery;Drupal.ajax.prototype.error=function(response,uri){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.wrapper).show();$(this.element).removeClass('progress-disabled').removeAttr('disabled');if(this.form){var settings=response.settings||this.settings||Drupal.settings;Drupal.attachBehaviors(this.form,settings)}}}};
/* Source and licensing information for the above line(s) can be found at http://emr.fas.harvard.edu/profiles/openscholar/modules/os/theme/os_ajaxterminate.js. */
/* Source and licensing information for the line(s) below can be found at http://emr.fas.harvard.edu/misc/ajax.js. */
(function($){Drupal.ajax=Drupal.ajax||{};Drupal.behaviors.AJAX={attach:function(context,settings){for(var base in settings.ajax)if(!$('#'+base+'.ajax-processed').length){var element_settings=settings.ajax[base];if(typeof element_settings.selector=='undefined')element_settings.selector='#'+base;$(element_settings.selector).each(function(){element_settings.element=this;Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings)});$('#'+base).addClass('ajax-processed')};$('.use-ajax:not(.ajax-processed)').addClass('ajax-processed').each(function(){var element_settings={};element_settings.progress={type:'throbber'};if($(this).attr('href')){element_settings.url=$(this).attr('href');element_settings.event='click'};var base=$(this).attr('id');Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings)});$('.use-ajax-submit:not(.ajax-processed)').addClass('ajax-processed').each(function(){var element_settings={};element_settings.url=$(this.form).attr('action');element_settings.setClick=true;element_settings.event='click';element_settings.progress={type:'throbber'};var base=$(this).attr('id');Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings)})}};Drupal.ajax=function(base,element,element_settings){var defaults={url:'system/ajax',event:'mousedown',keypress:true,selector:'#'+base,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:Drupal.t('Please wait...')},submit:{js:true}};$.extend(this,defaults,element_settings);this.element=element;this.element_settings=element_settings;this.url=element_settings.url.replace(/\/nojs(\/|$|\?|&|#)/g,'/ajax$1');this.wrapper='#'+element_settings.wrapper;if(this.element.form)this.form=$(this.element.form);var ajax=this;ajax.options={url:ajax.url,data:ajax.submit,beforeSerialize:function(element_settings,options){return ajax.beforeSerialize(element_settings,options)},beforeSubmit:function(form_values,element_settings,options){ajax.ajaxing=true;return ajax.beforeSubmit(form_values,element_settings,options)},beforeSend:function(xmlhttprequest,options){ajax.ajaxing=true;return ajax.beforeSend(xmlhttprequest,options)},success:function(response,status){if(typeof response=='string')response=$.parseJSON(response);return ajax.success(response,status)},complete:function(response,status){ajax.ajaxing=false;if(status=='error'||status=='parsererror')return ajax.error(response,ajax.url)},dataType:'json',type:'POST'};$(ajax.element).bind(element_settings.event,function(event){return ajax.eventResponse(this,event)});if(element_settings.keypress)$(ajax.element).keypress(function(event){return ajax.keypressResponse(this,event)});if(element_settings.prevent)$(ajax.element).bind(element_settings.prevent,false)};Drupal.ajax.prototype.keypressResponse=function(element,event){var ajax=this;if(event.which==13||(event.which==32&&element.type!='text'&&element.type!='textarea')){$(ajax.element_settings.element).trigger(ajax.element_settings.event);return false}};Drupal.ajax.prototype.eventResponse=function(element,event){var ajax=this;if(ajax.ajaxing)return false;try{if(ajax.form){if(ajax.setClick)element.form.clk=element;ajax.form.ajaxSubmit(ajax.options)}else{ajax.beforeSerialize(ajax.element,ajax.options);$.ajax(ajax.options)}}catch(e){ajax.ajaxing=false;alert("An error occurred while attempting to process "+ajax.options.url+": "+e.message)};if(typeof element.type!='undefined'&&(element.type=='checkbox'||element.type=='radio')){return true}else return false};Drupal.ajax.prototype.beforeSerialize=function(element,options){if(this.form){var settings=this.settings||Drupal.settings;Drupal.detachBehaviors(this.form,settings,'serialize')};options.data['ajax_html_ids[]']=[];$('[id]').each(function(){options.data['ajax_html_ids[]'].push(this.id)});options.data['ajax_page_state[theme]']=Drupal.settings.ajaxPageState.theme;options.data['ajax_page_state[theme_token]']=Drupal.settings.ajaxPageState.theme_token;for(var key in Drupal.settings.ajaxPageState.css)options.data['ajax_page_state[css]['+key+']']=1;for(var key in Drupal.settings.ajaxPageState.js)options.data['ajax_page_state[js]['+key+']']=1};Drupal.ajax.prototype.beforeSubmit=function(form_values,element,options){};Drupal.ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload='1';var v=$.fieldValue(this.element);if(v!==null)options.extraData[this.element.name]=v};$(this.element).addClass('progress-disabled').attr('disabled',true);if(this.progress.type=='bar'){var progressBar=new Drupal.progressBar('ajax-progress-'+this.element.id,eval(this.progress.update_callback),this.progress.method,eval(this.progress.error_callback));if(this.progress.message)progressBar.setProgress(-1,this.progress.message);if(this.progress.url)progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);this.progress.element=$(progressBar.element).addClass('ajax-progress ajax-progress-bar');this.progress.object=progressBar;$(this.element).after(this.progress.element)}else if(this.progress.type=='throbber'){this.progress.element=$('<div class="ajax-progress ajax-progress-throbber"><div class="throbber">&nbsp;</div></div>');if(this.progress.message)$('.throbber',this.progress.element).after('<div class="message">'+this.progress.message+'</div>');$(this.element).after(this.progress.element)}};Drupal.ajax.prototype.success=function(response,status){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.element).removeClass('progress-disabled').removeAttr('disabled');Drupal.freezeHeight();for(var i in response)if(response.hasOwnProperty(i)&&response[i]['command']&&this.commands[response[i]['command']])this.commands[response[i]['command']](this,response[i],status);if(this.form){var settings=this.settings||Drupal.settings;Drupal.attachBehaviors(this.form,settings)};Drupal.unfreezeHeight();this.settings=null};Drupal.ajax.prototype.getEffect=function(response){var type=response.effect||this.effect,speed=response.speed||this.speed,effect={};if(type=='none'){effect.showEffect='show';effect.hideEffect='hide';effect.showSpeed=''}else if(type=='fade'){effect.showEffect='fadeIn';effect.hideEffect='fadeOut';effect.showSpeed=speed}else{effect.showEffect=type+'Toggle';effect.hideEffect=type+'Toggle';effect.showSpeed=speed};return effect};Drupal.ajax.prototype.error=function(response,uri){alert(Drupal.ajaxError(response,uri));if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.wrapper).show();$(this.element).removeClass('progress-disabled').removeAttr('disabled');if(this.form){var settings=response.settings||this.settings||Drupal.settings;Drupal.attachBehaviors(this.form,settings)}};Drupal.ajax.prototype.commands={insert:function(ajax,response,status){var wrapper=response.selector?$(response.selector):$(ajax.wrapper),method=response.method||ajax.method,effect=ajax.getEffect(response),new_content_wrapped=$('<div></div>').html(response.data),new_content=new_content_wrapped.contents();if(new_content.length!=1||new_content.get(0).nodeType!=1)new_content=new_content_wrapped;switch(method){case'html':case'replaceWith':case'replaceAll':case'empty':case'remove':var settings=response.settings||ajax.settings||Drupal.settings;Drupal.detachBehaviors(wrapper,settings)};wrapper[method](new_content);if(effect.showEffect!='show')new_content.hide();if($('.ajax-new-content',new_content).length>0){$('.ajax-new-content',new_content).hide();new_content.show();$('.ajax-new-content',new_content)[effect.showEffect](effect.showSpeed)}else if(effect.showEffect!='show')new_content[effect.showEffect](effect.showSpeed);if(new_content.parents('html').length>0){var settings=response.settings||ajax.settings||Drupal.settings;Drupal.attachBehaviors(new_content,settings)}},remove:function(ajax,response,status){var settings=response.settings||ajax.settings||Drupal.settings;Drupal.detachBehaviors($(response.selector),settings);$(response.selector).remove()},changed:function(ajax,response,status){if(!$(response.selector).hasClass('ajax-changed')){$(response.selector).addClass('ajax-changed');if(response.asterisk)$(response.selector).find(response.asterisk).append(' <span class="ajax-changed">*</span> ')}},alert:function(ajax,response,status){alert(response.text,response.title)},css:function(ajax,response,status){$(response.selector).css(response.argument)},settings:function(ajax,response,status){if(response.merge){$.extend(true,Drupal.settings,response.settings)}else ajax.settings=response.settings},data:function(ajax,response,status){$(response.selector).data(response.name,response.value)},invoke:function(ajax,response,status){var $element=$(response.selector);$element[response.method].apply($element,response.arguments)},restripe:function(ajax,response,status){$('> tbody > tr:visible, > tr:visible',$(response.selector)).removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even')}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at http://emr.fas.harvard.edu/misc/ajax.js. */
/* Source and licensing information for the line(s) below can be found at http://emr.fas.harvard.edu/profiles/openscholar/modules/contrib/jquery_update/js/jquery_update.js. */
(function(D){var beforeSerialize=D.ajax.prototype.beforeSerialize;D.ajax.prototype.beforeSerialize=function(element,options){beforeSerialize.call(this,element,options);options.data['ajax_page_state[jquery_version]']=D.settings.ajaxPageState.jquery_version}})(Drupal);;
/* Source and licensing information for the above line(s) can be found at http://emr.fas.harvard.edu/profiles/openscholar/modules/contrib/jquery_update/js/jquery_update.js. */
